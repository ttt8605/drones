<head>
    <link rel="stylesheet" href="/stylesheets/new-edit.css">
  </head>

<% layout('/layouts/boilerplate') %>
    <div class="row mb-3">
        <h1 class="text-center mb-4"> Editing <%= drone.name %></h1>
        <div class="col-10 offset-1 mt-3"> 
<form action="/drones/<%=drone._id %>?_method=PUT" method="POST" novalidate class="validated-form" enctype="multipart/form-data" >
    <div class=" mb-3">
     <label for="name" class="form-label text-light">Name of the drone</label>
     <input type="text" name="name" id="name" class="form-control" placeholder="dronename" value="<%=drone.name %>" required>
     <div class="valid-feedback">
      Looks good!
     </div>
    </div>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
   bsCustomFileInput.init();
 });
   </script>
   <div class="mb-3">
     <div class="form-file custom-file">
         <input type="file" class="form-file-input" id="image" name="image" multiple>
         <label class="form-file-label" for="image">
             <span class="form-file-text custom-file-label">Choose image(s)...</span>
             <span class="form-file-button">Browse</span>
         </label>
     </div>
 </div>
    <div class=" mb-3">
        <label for="size" class="form-label text-light">Size of the drone</label>
        <select class="form-select" name="size" aria-label="Default select example" >
            <%for(let size of sizes){  %>
                <option value="<%= size  %>" <%= drone.size === size ? 'selected' : ''  %>><%= size %></option>
                <% } %>
          </select>
       </div>
       <div class=" mb-3">
        <label for="batery" class="form-label text-light">Power output of the battery</label>
        <select class="form-select" name="battery" aria-label="Default select example" >
            <%for(let battery of batteries){  %>
                <option value="<%= battery %>" <%= drone.battery === battery ? 'selected' : ''  %>><%= battery %></option>
                <% } %>
          </select>
       </div>
       <div class=" mb-3">
        <label for="video" class="form-label text-light">Video type</label>
        <select class="form-select" name="video" aria-label="Default select example" >
            <%for(let video of videos){  %>
                <option value="<%= video %>" <%= drone.video === video ? 'selected' : ''  %>><%= video%></option>
                <% } %>
          </select>
       </div>
       <div class="mb-3">
        <label class="form-label text-light" for="description">Description</label>
        <textarea class="form-control" name="description" id="description" aria-label="Description" rows="5" required><%=drone.description %></textarea>
        <div class="valid-feedback">
          Looks good!
         </div>
      </div>
      <div class="mb-3">
        <label class="form-label text-light" for="specification">Specification</label>
        <textarea class="form-control" name="specification" id="specification" aria-label="Specification" rows="10" required ><%=drone.specification %></textarea>
        <div class="valid-feedback">
          Looks good!
         </div>
      </div>
      <div class="mb-3 mt-4">
        <h6 class="text-light mb-3">Choose the images you want to delete:</h6>
        <% drone.images.forEach(function(img,i){ %>
          <img src="<%=img.thumbnail%>" class="img-thumbnail" alt="">
          <div class="form-check-inline md-3">
            <input type="checkbox" id="image-<%=i%>" name="deleteImages[]" value="<%=img.filename %>">
             <label class="text-light" for="image-<%=i%>">Delete</label>
         </div>
        
          <% }) %>
      </div>
      <div class="mb-3">
        <button class="btn btn-success">Edit Drone</button>
        </div>

</form>


</div>

</div>

